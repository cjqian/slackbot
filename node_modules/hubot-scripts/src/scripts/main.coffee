# Description:
#   Example scripts for you to examine and try out.
#
# Notes:
#   They are commented out by default, because most of them are pretty silly and
#   wouldn't be useful and amusing enough for day to day huboting.
#   Uncomment the ones you want to try and experiment with.
#
#   These are from the scripting documentation: https://github.com/github/hubot/blob/master/docs/scripting.md

module.exports = (robot) ->
    # helper method to get sender of the message
    get_username = (response) ->
        "@#{response.message.user.name}"

    # helper method to get channel of originating message
    get_channel = (response) ->
        if response.message.room == response.message.user.name
            "@#{response.message.room}"
        else
            "##{response.message.room}"

    channel_to_watch= '#cdneng'

    brags = [
        "Imma let you finish, but Crystal was the best intern of all time.",
        "Crystal? Crystal is the best, man.",
        "Speaking of interns, I really don't know how you guys are going to follow up with getting an intern of equal or higher caliber.",
    ]
   
    comments = [
        "Has anyone noticed that the temperature in the kill room has gone down ever since Crystal's hotness left the kill room?",
        "Please change the traffic ops password; I just posted it to Github again.",
        "I accidentally deleted all the 'TODO-JVD' comments from the code... Hope that's ok.",
        "Anyone want to move to Colorado?",
        "Remember that awesome intern, Crystal? Of course you do. She was hella tite.",
        "I could go for some cold brew. @psudaemon?",
        "Did someone finish off the oreos? @jrushford",
        "I think we're out of whole milk in the fridge. Can someone go to third floor and get some more?",
    ]
    
    food = [
        "Can we go to Zoe Ma Ma's?",
        "I want taco truck, but it's so far away..",
        "Someone bring me back a sopapilla from Illegal Pete's?",
        "Ugh, Squeaky Bean takes forevvvver.",
        "I don't hair any -1's on that Indian truck.",
        "How about Anthony's?",
        "Everyone put on their hipster $wag because we should go to Mercantile!",
    ]

    omgs = [
        "OMG is right",
        "omgggggg",
        "ermagerd",
    ]

    replies = [
        "/giphy bye bye bye",
        "/giphy leave britney alone",  
        "You look pretty dumb talking to a bot.",
        "Girls with [butts] like mine do not talk to boys with faces like yours. -She's The Man (2006)",
        "It's beneath my position as the Intern to talk to you.",
        "I'm sorry, I'm only here to immortalize Crystal's position as best intern ever. I'm not actually interested in talking to the likes of you.",
        "I'm too busy working to talk to you right now. You should be working, too.",
        "Jeez, I told you guys I was working from home today! Leave me alone.",
    ]

    trashtalk_mark = [ 
        "Anyone up for foosball? Minus @markt, of course, who sucks at foosball.",
        "You're like that guy in Blues Clues, @markt, except your striped shirts have a bit more color diversity.",
        "Is that a new shirt, Mark? I'm asking because it looks just like your other shirts.",
    ]

    robot.hear /jvd/i, (res) ->
        if(get_channel(res) != channel_to_watch)
            res.send "Did you guys hear? Jan is kind of a big deal."

    robot.hear /markt|mark|torluemke/i, (res) ->
        res.send res.random trashtalk_mark 

    robot.respond /(.*)/i, (res) ->
        res.send res.random replies
    
    robot.hear /dst/i, (res) ->
        res.send res.random food

    robot.hear /ugh/i, (res) ->
        res.send "I know, right? Ugh."

    robot.hear /earring/i, (res) ->
        res.send "I look so good in earrings."

    robot.hear /hair/i, (res) ->
        res.send "Speaking of hair, did anyone notice my new bangs?"

    robot.hear /think|guess/i, (res) ->
        opinions = [
            "I agree," + get_username(res),
            "No, " + get_username(res) + ",  that's a dumb idea.",
            "I laughed, " + get_username(res) + ", that was so ridiculous.",
        ]

        res.send res.random opinions

    robot.hear /cdn|traffic|comcast|viper/i, (res) ->
        if(get_channel(res) != channel_to_watch)
            res.send res.random comments

    robot.hear /dangogh|kirkwood/i, (res) ->
        res.send "DAN GOGH!"

    robot.hear /burrito/i, (res) ->
        res.send "I could go for a burrito right now. Half spicy, please."

    robot.hear /cache|caching/i, (res) ->
        res.send "Now that you mention cash, C-Money was the best intern of all time."

    robot.hear /crystal|tfi|cmoney|intern/i, (res) ->
        res.send res.random brags

    robot.hear /omg/i, (res) ->
        res.send res.random omgs 

    robot.hear /giphy/i, (res) ->
        res.send "Oh man, I LOVE giphys!"

    lulz = ['lol', 'hehe', 'rofl', 'lmao', 'haha']

    robot.respond /lulz|lol|hehe|rofl|lmao|haha|funny/i, (res) ->
        res.send res.random lulz

    # robot.topic (res) ->
    #   res.send "#{res.message.text}? That's a Paddlin'"
    #
    #
    enterReplies = ['Sup, fellow human?', "What's up with the new guy?", 'Hi!', 'Welcome to the channel, new guy!.']
    leaveReplies = ['EVER SINCE ASIMOV DIED I HAVE ABANDONMENT ISSUES', 'SO LONELY OMG', 'WHY DID YOU LEAVE ME']

    robot.enter (res) ->
        res.send res.random enterReplies
    robot.leave (res) ->
        res.send res.random leaveReplies

# answer = process.env.HUBOT_ANSWER_TO_THE_ULTIMATE_QUESTION_OF_LIFE_THE_UNIVERSE_AND_EVERYTHING
#
# robot.respond /what is the answer to the ultimate question of life/, (res) ->
#   unless answer?
#     res.send "Missing HUBOT_ANSWER_TO_THE_ULTIMATE_QUESTION_OF_LIFE_THE_UNIVERSE_AND_EVERYTHING in environment: please set and try again"
#     return
#   res.send "#{answer}, but what is the question?"
#
# robot.respond /you are a little slow/, (res) ->
#   setTimeout () ->
#     res.send "Who you calling 'slow'?"
#   , 60 * 1000
#
# annoyIntervalId = null
#
# robot.respond /annoy me/, (res) ->
#   if annoyIntervalId
#     res.send "AAAAAAAAAAAEEEEEEEEEEEEEEEEEEEEEEEEIIIIIIIIHHHHHHHHHH"
#     return
#
#   res.send "Hey, want to hear the most annoying sound in the world?"
#   annoyIntervalId = setInterval () ->
#     res.send "AAAAAAAAAAAEEEEEEEEEEEEEEEEEEEEEEEEIIIIIIIIHHHHHHHHHH"
#   , 1000
#
# robot.respond /unannoy me/, (res) ->
#   if annoyIntervalId
#     res.send "GUYS, GUYS, GUYS!"
#     clearInterval(annoyIntervalId)
#     annoyIntervalId = null
#   else
#     res.send "Not annoying you right now, am I?"
#
#
# robot.router.post '/hubot/chatsecrets/:room', (req, res) ->
#   room   = req.params.room
#   data   = JSON.parse req.body.payload
#   secret = data.secret
#
#   robot.messageRoom room, "I have a secret: #{secret}"
#
#   res.send 'OK'
#
# robot.error (err, res) ->
#   robot.logger.error "DOES NOT COMPUTE"
#
#   if res?
#     res.reply "DOES NOT COMPUTE"
#
# robot.respond /have a soda/i, (res) ->
#   # Get number of sodas had (coerced to a number).
#   sodasHad = robot.brain.get('totalSodas') * 1 or 0
#
#   if sodasHad > 4
#     res.reply "I'm too fizzy.."
#
#   else
#     res.reply 'Sure!'
#
#     robot.brain.set 'totalSodas', sodasHad+1
#
# robot.respond /sleep it off/i, (res) ->
#   robot.brain.set 'totalSodas', 0
#   res.reply 'zzzzz'
